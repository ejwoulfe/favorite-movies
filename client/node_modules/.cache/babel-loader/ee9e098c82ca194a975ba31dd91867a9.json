{"ast":null,"code":"import _objectSpread from \"D:\\\\Favorite Movies Project\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\Favorite Movies Project\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Favorite Movies Project\\\\client\\\\src\\\\components\\\\description_page\\\\description.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport MovieDescription from './movie_description/movie_description';\nimport ActorDescription from './actor_description/actor_desctipion';\n\nfunction Description(props) {\n  var _useState = useState(props.location.object),\n      _useState2 = _slicedToArray(_useState, 2),\n      dataObject = _useState2[0],\n      setDataObject = _useState2[1];\n\n  console.log(props);\n  useEffect(function () {\n    if (dataObject === undefined) {\n      var underScoreIndex = props.location.pathname.indexOf(\"_\");\n      var dataType = props.location.pathname.substring(1, underScoreIndex);\n      var lastSlashIndex = props.location.pathname.lastIndexOf('/');\n      var id = props.location.pathname.substring(lastSlashIndex + 1, props.location.pathname.length);\n      var fetchUrl = \"http://localhost:5000/\".concat(dataType, \"s/api/\").concat(id);\n      axios({\n        method: 'GET',\n        url: fetchUrl\n      }).then(function (res) {\n        if (dataType === 'movie') {\n          setDataObject(_objectSpread(_objectSpread({}, res.data), {}, {\n            type: 'movie'\n          }));\n        } else {\n          setDataObject(_objectSpread(_objectSpread({}, res.data), {}, {\n            type: 'actor'\n          }));\n        }\n      });\n    }\n  }, [dataObject, props.location.pathname]);\n\n  function loadComponent(dataObject) {\n    if (dataObject.type === 'movie') {\n      return /*#__PURE__*/React.createElement(MovieDescription, {\n        movie: dataObject,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 20\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(ActorDescription, {\n        actor: dataObject,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 20\n        }\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"description_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, dataObject !== undefined ? loadComponent(dataObject) : /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 69\n    }\n  }, \"Loading\"));\n}\n\nexport default Description;","map":{"version":3,"sources":["D:/Favorite Movies Project/client/src/components/description_page/description.jsx"],"names":["React","useEffect","useState","axios","MovieDescription","ActorDescription","Description","props","location","object","dataObject","setDataObject","console","log","undefined","underScoreIndex","pathname","indexOf","dataType","substring","lastSlashIndex","lastIndexOf","id","length","fetchUrl","method","url","then","res","data","type","loadComponent"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,gBAAP,MAA6B,uCAA7B;AACA,OAAOC,gBAAP,MAA6B,sCAA7B;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA,kBAEYL,QAAQ,CAACK,KAAK,CAACC,QAAN,CAAeC,MAAhB,CAFpB;AAAA;AAAA,MAEjBC,UAFiB;AAAA,MAELC,aAFK;;AAGxBC,EAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AAEAN,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIS,UAAU,KAAKI,SAAnB,EAA8B;AAE1B,UAAIC,eAAe,GAAGR,KAAK,CAACC,QAAN,CAAeQ,QAAf,CAAwBC,OAAxB,CAAgC,GAAhC,CAAtB;AACA,UAAIC,QAAQ,GAAGX,KAAK,CAACC,QAAN,CAAeQ,QAAf,CAAwBG,SAAxB,CAAkC,CAAlC,EAAqCJ,eAArC,CAAf;AAEA,UAAIK,cAAc,GAAGb,KAAK,CAACC,QAAN,CAAeQ,QAAf,CAAwBK,WAAxB,CAAoC,GAApC,CAArB;AACA,UAAIC,EAAE,GAAGf,KAAK,CAACC,QAAN,CAAeQ,QAAf,CAAwBG,SAAxB,CAAkCC,cAAc,GAAG,CAAnD,EAAsDb,KAAK,CAACC,QAAN,CAAeQ,QAAf,CAAwBO,MAA9E,CAAT;AAGA,UAAIC,QAAQ,mCAA4BN,QAA5B,mBAA6CI,EAA7C,CAAZ;AAEAnB,MAAAA,KAAK,CAAC;AACFsB,QAAAA,MAAM,EAAE,KADN;AAEFC,QAAAA,GAAG,EAAEF;AAFH,OAAD,CAAL,CAGGG,IAHH,CAGQ,UAAAC,GAAG,EAAI;AACX,YAAIV,QAAQ,KAAK,OAAjB,EAA0B;AACtBP,UAAAA,aAAa,iCACNiB,GAAG,CAACC,IADE;AAETC,YAAAA,IAAI,EAAE;AAFG,aAAb;AAIH,SALD,MAKO;AACHnB,UAAAA,aAAa,iCACNiB,GAAG,CAACC,IADE;AAETC,YAAAA,IAAI,EAAE;AAFG,aAAb;AAIH;AAEJ,OAhBD;AAiBH;AACJ,GA9BQ,EA8BN,CAACpB,UAAD,EAAaH,KAAK,CAACC,QAAN,CAAeQ,QAA5B,CA9BM,CAAT;;AAiCA,WAASe,aAAT,CAAuBrB,UAAvB,EAAmC;AAE/B,QAAIA,UAAU,CAACoB,IAAX,KAAoB,OAAxB,EAAiC;AAC7B,0BAAO,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAEpB,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH,KAFD,MAEO;AACH,0BAAO,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAEA,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;AAEJ;;AAGD,sBACI;AAAK,IAAA,EAAE,EAAC,uBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,UAAU,KAAKI,SAAf,GAA2BiB,aAAa,CAACrB,UAAD,CAAxC,gBAAuD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAD5D,CADJ;AASH;;AAED,eAAeJ,WAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from \"axios\";\r\nimport MovieDescription from './movie_description/movie_description';\r\nimport ActorDescription from './actor_description/actor_desctipion';\r\n\r\nfunction Description(props) {\r\n\r\n    const [dataObject, setDataObject] = useState(props.location.object);\r\n    console.log(props);\r\n\r\n    useEffect(() => {\r\n        if (dataObject === undefined) {\r\n\r\n            let underScoreIndex = props.location.pathname.indexOf(\"_\");\r\n            let dataType = props.location.pathname.substring(1, underScoreIndex);\r\n\r\n            let lastSlashIndex = props.location.pathname.lastIndexOf('/');\r\n            let id = props.location.pathname.substring(lastSlashIndex + 1, props.location.pathname.length);\r\n\r\n\r\n            let fetchUrl = `http://localhost:5000/${dataType}s/api/${id}`;\r\n\r\n            axios({\r\n                method: 'GET',\r\n                url: fetchUrl\r\n            }).then(res => {\r\n                if (dataType === 'movie') {\r\n                    setDataObject({\r\n                        ...res.data,\r\n                        type: 'movie'\r\n                    })\r\n                } else {\r\n                    setDataObject({\r\n                        ...res.data,\r\n                        type: 'actor'\r\n                    })\r\n                }\r\n\r\n            })\r\n        }\r\n    }, [dataObject, props.location.pathname]);\r\n\r\n\r\n    function loadComponent(dataObject) {\r\n\r\n        if (dataObject.type === 'movie') {\r\n            return <MovieDescription movie={dataObject} />\r\n        } else {\r\n            return <ActorDescription actor={dataObject} />\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <div id=\"description_container\">\r\n            {dataObject !== undefined ? loadComponent(dataObject) : <h4>Loading</h4>}\r\n        </div>\r\n\r\n    )\r\n\r\n\r\n\r\n}\r\n\r\nexport default Description;"]},"metadata":{},"sourceType":"module"}