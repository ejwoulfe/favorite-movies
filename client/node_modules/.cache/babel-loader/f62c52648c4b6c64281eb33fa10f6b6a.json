{"ast":null,"code":"import { useEffect, useRef } from 'react';\nimport isEqual from 'lodast-es/isEqual';\nexport function useDeepEffect(effectFunc, deps) {\n  const isFirst = useRef(true);\n  const prevDeps = useRef(deps);\n  useEffect(() => {\n    const isSame = prevDeps.current.every((obj, index) => isEqual(obj, deps[index]));\n\n    if (isFirst.current || !isSame) {\n      effectFunc();\n    }\n\n    isFirst.current = false;\n    prevDeps.current = deps;\n  }, deps);\n}","map":{"version":3,"sources":["D:/Favorite Movies Project/client/src/util/deepEffect.js"],"names":["useEffect","useRef","isEqual","useDeepEffect","effectFunc","deps","isFirst","prevDeps","isSame","current","every","obj","index"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,OAAlC;AACA,OAAOC,OAAP,MAAoB,mBAApB;AAEA,OAAO,SAASC,aAAT,CAAuBC,UAAvB,EAAmCC,IAAnC,EAAwC;AAE3C,QAAMC,OAAO,GAAGL,MAAM,CAAC,IAAD,CAAtB;AACA,QAAMM,QAAQ,GAAGN,MAAM,CAACI,IAAD,CAAvB;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMQ,MAAM,GAAGD,QAAQ,CAACE,OAAT,CAAiBC,KAAjB,CAAuB,CAACC,GAAD,EAAMC,KAAN,KAAgBV,OAAO,CAACS,GAAD,EAAMN,IAAI,CAACO,KAAD,CAAV,CAA9C,CAAf;;AAEA,QAAGN,OAAO,CAACG,OAAR,IAAmB,CAACD,MAAvB,EAA8B;AAC1BJ,MAAAA,UAAU;AACb;;AAGDE,IAAAA,OAAO,CAACG,OAAR,GAAkB,KAAlB;AACAF,IAAAA,QAAQ,CAACE,OAAT,GAAmBJ,IAAnB;AACH,GAVQ,EAUNA,IAVM,CAAT;AAWH","sourcesContent":["import { useEffect, useRef } from 'react';\r\nimport isEqual from 'lodast-es/isEqual';\r\n\r\nexport function useDeepEffect(effectFunc, deps){\r\n\r\n    const isFirst = useRef(true);\r\n    const prevDeps = useRef(deps);\r\n\r\n    useEffect(() => {\r\n        const isSame = prevDeps.current.every((obj, index) => isEqual(obj, deps[index]));\r\n\r\n        if(isFirst.current || !isSame){\r\n            effectFunc();\r\n        }\r\n\r\n\r\n        isFirst.current = false;\r\n        prevDeps.current = deps;\r\n    }, deps)\r\n}"]},"metadata":{},"sourceType":"module"}