{"ast":null,"code":"import _slicedToArray from \"D:\\\\Favorite Movies Project\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Favorite Movies Project\\\\client\\\\src\\\\components\\\\description_page\\\\description.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport MovieDescription from './movie_description/movie_description';\nimport ActorDescription from './actor_description/actor_desctipion';\n\nfunction Description(props) {\n  var _useState = useState(props.location.object),\n      _useState2 = _slicedToArray(_useState, 2),\n      dataObject = _useState2[0],\n      setDataObject = _useState2[1];\n\n  var _useState3 = useState(props.location.pathname.substring(1, props.location.pathname.indexOf(\"_\"))),\n      _useState4 = _slicedToArray(_useState3, 2),\n      dataType = _useState4[0],\n      setDataType = _useState4[1];\n\n  useEffect(function () {\n    setDataType(props.location.pathname.substring(1, props.location.pathname.indexOf(\"_\")));\n\n    if (dataObject === undefined) {\n      var lastSlashIndex = props.location.pathname.lastIndexOf('/');\n      var id = props.location.pathname.substring(lastSlashIndex + 1, props.location.pathname.length);\n      var fetchUrl = \"http://localhost:5000/\".concat(dataType, \"s/api/\").concat(id);\n      axios({\n        method: 'GET',\n        url: fetchUrl\n      }).then(function (res) {\n        if (dataType === 'movie') {\n          setDataObject(res.data);\n        } else {\n          setDataObject(res.data);\n        }\n      });\n    }\n  }, [dataObject, dataType, props.location.pathname]);\n\n  function loadComponent(dataObject) {\n    if (dataType === 'movie') {\n      return /*#__PURE__*/React.createElement(MovieDescription, {\n        movie: dataObject,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 20\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(ActorDescription, {\n        actor: dataObject,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 20\n        }\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"description_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, dataObject !== undefined ? loadComponent(dataObject) : /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 69\n    }\n  }, \"Loading\"));\n}\n\nexport default Description;","map":{"version":3,"sources":["D:/Favorite Movies Project/client/src/components/description_page/description.jsx"],"names":["React","useEffect","useState","axios","MovieDescription","ActorDescription","Description","props","location","object","dataObject","setDataObject","pathname","substring","indexOf","dataType","setDataType","undefined","lastSlashIndex","lastIndexOf","id","length","fetchUrl","method","url","then","res","data","loadComponent"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,gBAAP,MAA6B,uCAA7B;AACA,OAAOC,gBAAP,MAA6B,sCAA7B;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA,kBAEYL,QAAQ,CAACK,KAAK,CAACC,QAAN,CAAeC,MAAhB,CAFpB;AAAA;AAAA,MAEjBC,UAFiB;AAAA,MAELC,aAFK;;AAAA,mBAGQT,QAAQ,CAACK,KAAK,CAACC,QAAN,CAAeI,QAAf,CAAwBC,SAAxB,CAAkC,CAAlC,EAAqCN,KAAK,CAACC,QAAN,CAAeI,QAAf,CAAwBE,OAAxB,CAAgC,GAAhC,CAArC,CAAD,CAHhB;AAAA;AAAA,MAGjBC,QAHiB;AAAA,MAGPC,WAHO;;AAKxBf,EAAAA,SAAS,CAAC,YAAM;AACZe,IAAAA,WAAW,CAACT,KAAK,CAACC,QAAN,CAAeI,QAAf,CAAwBC,SAAxB,CAAkC,CAAlC,EAAqCN,KAAK,CAACC,QAAN,CAAeI,QAAf,CAAwBE,OAAxB,CAAgC,GAAhC,CAArC,CAAD,CAAX;;AACA,QAAIJ,UAAU,KAAKO,SAAnB,EAA8B;AAE1B,UAAIC,cAAc,GAAGX,KAAK,CAACC,QAAN,CAAeI,QAAf,CAAwBO,WAAxB,CAAoC,GAApC,CAArB;AACA,UAAIC,EAAE,GAAGb,KAAK,CAACC,QAAN,CAAeI,QAAf,CAAwBC,SAAxB,CAAkCK,cAAc,GAAG,CAAnD,EAAsDX,KAAK,CAACC,QAAN,CAAeI,QAAf,CAAwBS,MAA9E,CAAT;AAGA,UAAIC,QAAQ,mCAA4BP,QAA5B,mBAA6CK,EAA7C,CAAZ;AAEAjB,MAAAA,KAAK,CAAC;AACFoB,QAAAA,MAAM,EAAE,KADN;AAEFC,QAAAA,GAAG,EAAEF;AAFH,OAAD,CAAL,CAGGG,IAHH,CAGQ,UAAAC,GAAG,EAAI;AACX,YAAIX,QAAQ,KAAK,OAAjB,EAA0B;AACtBJ,UAAAA,aAAa,CACTe,GAAG,CAACC,IADK,CAAb;AAGH,SAJD,MAIO;AACHhB,UAAAA,aAAa,CACTe,GAAG,CAACC,IADK,CAAb;AAGH;AAEJ,OAdD;AAeH;AACJ,GA1BQ,EA0BN,CAACjB,UAAD,EAAaK,QAAb,EAAuBR,KAAK,CAACC,QAAN,CAAeI,QAAtC,CA1BM,CAAT;;AA6BA,WAASgB,aAAT,CAAuBlB,UAAvB,EAAmC;AAC/B,QAAIK,QAAQ,KAAK,OAAjB,EAA0B;AACtB,0BAAO,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAEL,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH,KAFD,MAEO;AACH,0BAAO,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAEA,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;AAEJ;;AAGD,sBACI;AAAK,IAAA,EAAE,EAAC,uBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,UAAU,KAAKO,SAAf,GAA2BW,aAAa,CAAClB,UAAD,CAAxC,gBAAuD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAD5D,CADJ;AASH;;AAED,eAAeJ,WAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from \"axios\";\r\nimport MovieDescription from './movie_description/movie_description';\r\nimport ActorDescription from './actor_description/actor_desctipion';\r\n\r\nfunction Description(props) {\r\n\r\n    const [dataObject, setDataObject] = useState(props.location.object);\r\n    const [dataType, setDataType] = useState(props.location.pathname.substring(1, props.location.pathname.indexOf(\"_\")));\r\n\r\n    useEffect(() => {\r\n        setDataType(props.location.pathname.substring(1, props.location.pathname.indexOf(\"_\")))\r\n        if (dataObject === undefined) {\r\n\r\n            let lastSlashIndex = props.location.pathname.lastIndexOf('/');\r\n            let id = props.location.pathname.substring(lastSlashIndex + 1, props.location.pathname.length);\r\n\r\n\r\n            let fetchUrl = `http://localhost:5000/${dataType}s/api/${id}`;\r\n\r\n            axios({\r\n                method: 'GET',\r\n                url: fetchUrl\r\n            }).then(res => {\r\n                if (dataType === 'movie') {\r\n                    setDataObject(\r\n                        res.data\r\n                    )\r\n                } else {\r\n                    setDataObject(\r\n                        res.data\r\n                    )\r\n                }\r\n\r\n            })\r\n        }\r\n    }, [dataObject, dataType, props.location.pathname]);\r\n\r\n\r\n    function loadComponent(dataObject) {\r\n        if (dataType === 'movie') {\r\n            return <MovieDescription movie={dataObject} />\r\n        } else {\r\n            return <ActorDescription actor={dataObject} />\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <div id=\"description_container\">\r\n            {dataObject !== undefined ? loadComponent(dataObject) : <h4>Loading</h4>}\r\n        </div>\r\n\r\n    )\r\n\r\n\r\n\r\n}\r\n\r\nexport default Description;"]},"metadata":{},"sourceType":"module"}